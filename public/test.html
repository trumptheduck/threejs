<!DOCTYPE HTML>
<html>
<head>
<script>
var inventoryArray = []
var emptyItem = {
    amount: 0,
    type: '',
    icon: ''
}
var bedrock = {
    amount: 1,
    type: "bedrock",
    icon: '/images/bedrock.png'
}
var grass = {
    amount: 1,
    type: "grass",
    icon: '/images/grass-side.png',
}
for (let i = 0;i< 36;i++) {
    inventoryArray.push(emptyItem)
}
function renderItemUI(itemArray) {
    for (let i = 0;i< itemArray.length;i++) {
        if (itemArray[i].amount < 1) {
          document.getElementById(`ivt-${i}`).innerHTML = ''
        } else {
            document.getElementById(`ivt-${i}`).innerHTML = `<img id="item-${Math.random()}" draggable="true" src="${itemArray[i].icon}" ondragstart="drag(event)" width="52" height="52" style="position: relative;left: -1px;top: -1px">`
        }
    }
}
function exchangeItem(slot1,slot2) {
    let interchangeValue = inventoryArray[slot1];
    inventoryArray[slot1] = inventoryArray[slot2];
    inventoryArray[slot2] = interchangeValue;
}
function assignItem(item,slot) {
    inventoryArray[slot] = item;
}
function moveItem(slot1,slot2) {
    inventoryArray[slot2] = inventoryArray[slot1];
    inventoryArray[slot1] = emptyItem;
}
function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("data", ev.target.id);
  ev.dataTransfer.setData("origin",ev.target.parentNode.id)
}

function drop(ev) {
  ev.preventDefault();
  var origin = ev.dataTransfer.getData("origin");
  var data = ev.dataTransfer.getData("data");
  if (ev.target.tagName === 'DIV') {
    var slot1, slot2
    slot1 = parseInt(ev.target.id.split('-').pop(),10);
    slot2 = parseInt(document.getElementById(origin).id.split('-').pop(),10)
    moveItem(slot2,slot1);
    renderItemUI()
  } else if (ev.target.tagName === 'IMG') {
    var slot1, slot2
    slot1 = parseInt(ev.target.parentNode.id.split('-').pop(),10);
    slot2 = parseInt(document.getElementById(origin).id.split('-').pop(),10)
    exchangeItem(slot1,slot2);
    renderItemUI()
  }
  console.log(inventoryArray)
}
assignItem(grass,23)
assignItem(bedrock,13)
function test(text) {console.log(text)}
var binding = test
</script>
<style>
#UI-inventory {
  margin: 0;
  position: absolute;
  top: 60%;
  left: 50%;
  transform: translate(-50%,-50%);
  background-color: rgb(202, 202, 202);
  width: fit-content;
  height: 170px;
  padding: 20px;
  border: rgb(223, 223, 223) groove 4px;
}
#UI-hotbar {
    margin: 0;
    position: absolute;
    bottom: 0%;
    left: 50%;
    transform: translate(-50%);
    background-color: transparent;
    width: fit-content;
    height: 54px;
    padding: 5px;
    border: rgb(223, 223, 223) groove 4px;
}
.grid-container {
  display: grid;
  grid-template-columns: 52px 52px 52px 52px 52px 52px 52px 52px 52px;
  grid-column-gap: 5px;
  grid-row-gap: 5px;
  
}
.grid-item {
    width: 50px;height: 50px;border: groove 1px grey;
    padding: 0px;
}
.inventory-slot{
    background-color: whitesmoke;
}
.hotbar-slot {
    background-color: whitesmoke;
    opacity: 0.5;
}
.hotbar-slot.selected{
    opacity: 1;
}
</style>
</head>
<body>
<div class="grid-container" id="UI-inventory">
    <div id="ivt-9" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-10" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-11" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-12" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-13" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-14" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-15" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-16" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-17" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-18" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-19" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-20" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-21" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-22" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-23" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-24" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-25" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-26" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-27" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-28" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-29" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-30" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-31" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-32" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-33" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-34" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
    <div id="ivt-35" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item inventory-slot"></div>
  </div>
  <div class="grid-container" id="UI-hotbar">
    <div id="ivt-0" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
    <div id="ivt-1" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot selected"></div>
    <div id="ivt-2" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
    <div id="ivt-3" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
    <div id="ivt-4" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
    <div id="ivt-5" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
    <div id="ivt-6" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
    <div id="ivt-7" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
    <div id="ivt-8" ondrop="drop(event)" ondragover="allowDrop(event)" class="grid-item hotbar-slot"></div>
  </div>
</body>
</html>